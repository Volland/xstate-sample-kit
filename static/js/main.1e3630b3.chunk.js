(this["webpackJsonpxstate-sample-kit"]=this["webpackJsonpxstate-sample-kit"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"Login":"Login","Reset":"Reset","Logout":"Logout","Cancel":"Cancel","Try again":"Try again","Welcome %username":"Welcome %0","The server responded with code %code":"The server responded with %0: %1","The server has responded with an unknown response.":"The server has responded with an unknown response.","The following error has occurred":"The following error has occurred: %0"}')},58:function(e){e.exports=JSON.parse('{"Welcome %username":"Welcome %0"}')},61:function(e){e.exports=JSON.parse('{"titleOfShow":"title of show"}')},65:function(e){e.exports=JSON.parse('{"usernameLabel":"Username"}')},66:function(e){e.exports=JSON.parse('{"passwordLabel":"Password"}')},73:function(e,t,n){e.exports=n(97)},78:function(e,t,n){},79:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"id",(function(){return X})),n.d(r,"config",(function(){return Y})),n.d(r,"options",(function(){return Z})),n.d(r,"api",(function(){return ee}));var a={};n.r(a),n.d(a,"id",(function(){return ne})),n.d(a,"config",(function(){return re})),n.d(a,"options",(function(){return ae})),n.d(a,"api",(function(){return oe}));var o={};n.r(o),n.d(o,"id",(function(){return me})),n.d(o,"config",(function(){return ge})),n.d(o,"options",(function(){return ve})),n.d(o,"api",(function(){return Oe}));var i,c=n(0),s=n.n(c),u=n(48),l=n.n(u),d=(n(78),n(79),n(27)),f=n(67),p=n(9),b=n(39),m=n(13),g=n(11),v=n(45),O={flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},j=function(e){return c.createElement(c.Fragment,null,c.createElement("div",{style:O},e.children),c.createElement(v.a,{progress:e.loading?void 0:0}))},h=function(e){return function(t){return t[e]}},E=(i="",function(e){return Object(m.pipe)(e,Object(p.fold)(Object(g.constant)(i),g.identity))}),y=n(23),w=y.c({id:y.a,name:y.b,username:y.b,email:y.b},"User"),x=(h("id"),h("username")),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t){return e?"".concat(e,".").concat(t):t}},C=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%(\d+)/g,(function(e,t){return"undefined"!=typeof n[t]?n[t]:e}))},S=n(58),I=function(e){return c.createElement("div",{id:"welcome"},C(S["Welcome %username"],x(e.user)))},T=n(42),N=n(53),B=n(4),L=n(34),V=function(e,t){return Object.keys(Object(L.a)({},e,{},t)).reduce((function(n,r){return Object(L.a)({},n,Object(B.a)({},r,Object(L.a)({},e[r]||{},{},t[r]||{})))}),{})},F="edit",J="pristine",R="dirty",A="touched",P="touching",W="untouched",M="focused",U="blurred",q="valid",D="invalid",H="CHANGE",G="FOCUS",$="BLUR",_="RESET",z=n(3);function K(e){var t,n,r=e.id,a=e.isValid,o=e.initialValue,i=k(r),c={eventCreators:{change:function(e){return{type:i(H),value:e}},reset:function(){return{type:i(_)}},focus:function(){return{type:i(G)}},blur:function(){return{type:i($)}}},selector:function(e){var t;return null!==(t=e[r])&&void 0!==t?t:p.none}},s=function(e){return e.type===i(H)},u=function(e){var t,n,r,a,o,i,c,s=e.id,u=k(s);return{type:"parallel",states:(c={},Object(B.a)(c,F,{entry:u("assignInitialValue"),on:(t={},Object(B.a)(t,u(H),{actions:u("assignChange")}),Object(B.a)(t,u(_),{actions:u("assignInitialValue")}),t)}),Object(B.a)(c,J,{initial:J,states:(n={},Object(B.a)(n,J,{on:Object(B.a)({},u(H),{target:R,cond:u("isHuman")})}),Object(B.a)(n,R,{on:Object(B.a)({},u(_),J)}),n)}),Object(B.a)(c,A,{initial:W,states:(r={},Object(B.a)(r,W,{on:Object(B.a)({},u(G),{target:P})}),Object(B.a)(r,P,{on:Object(B.a)({},u($),{target:A})}),Object(B.a)(r,A,{on:Object(B.a)({},u(_),W)}),r)}),Object(B.a)(c,q,{initial:D,states:(o={},Object(B.a)(o,D,{"":{target:q,cond:u("isValid")},on:Object(B.a)({},u(H),{target:q,cond:u("isValid")})}),Object(B.a)(o,q,{on:(a={},Object(B.a)(a,u(H),{target:D,cond:u("isNotValid")}),Object(B.a)(a,u(_),D),a)}),o)}),Object(B.a)(c,M,{initial:U,states:(i={},Object(B.a)(i,M,{on:Object(B.a)({},u($),U)}),Object(B.a)(i,U,{on:Object(B.a)({},u(G),M)}),i)}),c)}}({id:r}),l=Object(z.b)((function(e,t){var n=s(t)?Object(p.fromNullable)(t.value):e[r];return Object(B.a)({},r,n)})),d=Object(z.q)((function(e,t){return{type:i(H),value:o,isRobot:!0}})),f={actions:(t={},Object(B.a)(t,i("assignInitialValue"),d),Object(B.a)(t,i("assignChange"),l),t),guards:(n={},Object(B.a)(n,i("isHuman"),(function(e,t){return!!s(t)&&!t.isRobot})),Object(B.a)(n,i("isValid"),(function(e,t){return a(s(t)?Object(p.fromNullable)(t.value):c.selector(e))})),Object(B.a)(n,i("isNotValid"),(function(e,t){return!a(s(t)?Object(p.fromNullable)(t.value):c.selector(e))})),n)};return{id:r,config:u,options:f,api:c}}var Q=K({id:"username",isValid:function(e){return Object(m.pipe)(e,Object(p.fold)(Object(g.constant)(!1),(function(e){return!!e.trim()})))}}),X=Q.id,Y=Q.config,Z=Q.options,ee=Q.api,te=K({id:"password",isValid:function(e){return Object(m.pipe)(e,Object(p.fold)(Object(g.constant)(!1),(function(e){return!!e.trim()})))}}),ne=te.id,re=te.config,ae=te.options,oe=te.api,ie="inProgress",ce="submitting",se="done",ue="SUBMIT",le="RESET";var de,fe,pe,be=function(e){var t,n,r=e.id,a=k(r),o={eventCreators:{submit:function(e){return{type:a(ue),promiser:e}},reset:function(){return{type:a(le)}}},selector:function(e){var t;return null!==(t=e[r])&&void 0!==t?t:p.none}},i=(n=ue,function(e){return e.type===a(n)}),c=function(e){var t,n=e.id,r=k(n);return{initial:ie,on:Object(B.a)({},r(le),{target:"".concat(n,".").concat(ie),actions:r("assignInitial")}),states:(t={},Object(B.a)(t,ie,{entry:r("assignInitial"),on:Object(B.a)({},r(ue),{target:ce})}),Object(B.a)(t,ce,{invoke:{id:r("submitOperation"),src:r("submitOperation"),onDone:se,onError:se}}),Object(B.a)(t,se,{entry:r("assignDone")}),t)}}({id:r}),s=Object(z.b)((function(e){return Object(B.a)({},r,p.none)})),u=function(e,t){return Object(B.a)({},e,t)},l=Object(z.b)((function(e,t){return/^error.platform/.test(t.type)?u(r,p.some(b.left(t.data))):function(e){return/^done.invoke/.test(e.type)}(t)?u(r,p.some(t.data)):e})),d={services:Object(B.a)({},a("submitOperation"),(function(e,t){return i(t)?t.promiser():Promise.reject("submitService invoked by non-submit event!")})),actions:(t={},Object(B.a)(t,a("assignInitial"),s),Object(B.a)(t,a("assignDone"),l),t),guards:{}};return{id:r,config:c,options:d,api:o}}({id:"status"}),me=be.id,ge=be.config,ve=be.options,Oe=be.api,je=(de="login",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.api[t.id]=t.api,e.config.states[t.id]=t.config,e.options=V(e.options,t.options),e}),{api:{},config:{id:de,type:"parallel",states:{}},options:{}}),a=r.api,o=r.config,i=r.options;return{id:de,api:a,config:o,options:i}})(r,a,o),he=je.config,Ee=je.api,ye=je.options,we=Object(N.b)(he,ye),xe=function(e){return c.createElement(T.a,{"data-test":"btn-reset",type:"button",theme:"secondary",onClick:function(){e.send([Ee.status.eventCreators.reset(),Ee.username.eventCreators.reset(),Ee.password.eventCreators.reset()])}},e.children)},ke=n(35),Ce=n.n(ke),Se=n(50),Ie=n(12),Te=n(32),Ne=(n(60),n(33)),Be=y.c({code:y.a,error:y.b}),Le=function(e){return function(t){return t.reason===e}},Ve=function(e){return function(t){return{reason:e,error:t}}},Fe=Ve("api"),Je=Ve("decode"),Re=(Ve("error"),Le("api")),Ae=Le("decode"),Pe=(Le("error"),function(e){return function(){var t=Object(Se.a)(Ce.a.mark((function t(n){var r,a,o;return Ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n();case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,console.log(JSON.stringify(a,null,2)),t.next=20;break;case 15:if(3!==o){t.next=19;break}throw Error(".. my hands up in the air sometime!");case 19:4===o&&delete a.username;case 20:return t.abrupt("return",Object(Te.a)(e.decode(a),Ie.f((function(e){return Object(Te.a)(Object(Te.a)(Be.decode(a),Ie.e(Fe)),Ie.b(Object(Ne.a)(Je(e)),Ne.b))}))));case 23:return t.prev=23,t.t0=t.catch(0),t.abrupt("return",Ie.d({reason:"error",error:t.t0 instanceof Error?t.t0:Error("".concat(t.t0))}));case 27:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e){return t.apply(this,arguments)}}()}),We=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?C.apply(void 0,[e].concat(n)):null},Me=function(e){var t=Re(e.failure)?We(e.api,e.failure.error.code,e.failure.error.error):Ae(e.failure)?We(e.decode):We(e.error,e.failure.error);return t?c.createElement("span",{"data-test":"FailureMessage"},t):null},Ue=n(20),qe=function(e){return c.createElement(Me,{failure:e.failure,api:Ue["The server responded with code %code"],decode:Ue["The server has responded with an unknown response."],error:Ue["The following error has occurred"]})},De=(n(86),n(43)),He=n(61),Ge=n(51),$e=function(e){var t=Object(Ge.b)(),n=Object(d.a)(t,1)[0];return c.createElement("form",null,c.createElement(De.a,{use:"headline3"},"[".concat(n(He.titleOfShow),"]")),c.createElement("br",null),c.createElement("br",null),e.usernameInput,c.createElement("br",null),e.passwordInput,c.createElement("br",null),c.createElement("div",null,e.loginButton,e.resetButton))},_e=function(e){return c.createElement(T.a,Object.assign({},e,{type:"button","data-test":"btn-login",raised:!0,disabled:e.disabled,onClick:e.onClick}),Ue.Login)},ze=n(25),Ke=n(36),Qe=n(65),Xe=c.createElement(De.a,{use:"headline6"},Qe.usernameLabel),Ye={block:{display:"block"}},Ze=function(e){return c.createElement(c.Fragment,null,c.createElement("div",null,Xe),c.createElement("div",null,c.createElement(Ke.a,{"data-test":"input-username",value:e.value,placeholder:"Username",required:!0,invalid:e.invalid,disabled:e.disabled,onChange:e.onChange,onFocus:e.onFocus,onBlur:e.onBlur,style:Ye.block,helpText:{children:e.invalid?c.createElement("span",null,"A username is required!"):"",validationMsg:!0},icon:c.createElement(ze.a,{icon:"person",theme:e.focused?"primary":""})})))},et=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(){e.apply(void 0,n)}}},tt=(fe="currentTarget",pe="value",function(e){return e[fe][pe]}),nt=function(e){var t={value:Object(m.pipe)(e.api.selector(e.context),Object(p.fold)(Object(g.constant)(""),g.identity)),onChange:Object(g.flow)(tt,e.api.eventCreators.change,e.send),onFocus:et(e.send)(e.api.eventCreators.focus()),onBlur:et(e.send)(e.api.eventCreators.blur())};return e.children(t)},rt=function(e){return c.createElement(nt,{send:e.send,context:e.current.context,api:ee},(t=e.current,function(e){return c.createElement(Ze,Object.assign({},e,{disabled:t.matches("status.submitting"),focused:t.matches("username.focused.focused"),invalid:t.matches("username.touched.touched")&&t.matches("username.valid.invalid")}))}));var t},at=n(66),ot=c.createElement(De.a,{use:"headline6"},at.passwordLabel),it={display:"block"},ct=function(e){return c.createElement(c.Fragment,null,c.createElement("div",null,ot),c.createElement("div",null,c.createElement(Ke.a,{"data-test":"input-password",value:e.value,placeholder:"Password",type:"password",required:!0,invalid:e.invalid,disabled:e.disabled,onChange:e.onChange,onFocus:e.onFocus,onBlur:e.onBlur,style:Object.assign({},e.style,it),helpText:{children:e.invalid?c.createElement("span",null,"A password is required!"):"",validationMsg:!0},icon:c.createElement(ze.a,{icon:e.focused?"lock_open":"lock",theme:e.focused?"primary":""})})))},st=function(e){return c.createElement(nt,{send:e.send,context:e.current.context,api:oe},(t=e.current,function(e){return c.createElement(ct,Object.assign({},e,{focused:t.matches("password.focused.focused"),disabled:t.matches("status.submitting"),invalid:t.matches("password.touched.touched")&&t.matches("password.valid.invalid")}))}));var t},ut=function(e){return s.a.createElement(j,{loading:e.isSubmitting},s.a.createElement($e,{usernameInput:s.a.createElement(rt,{send:e.send,current:e.current,context:e.current.context}),passwordInput:s.a.createElement(st,{send:e.send,current:e.current,context:e.current.context}),loginButton:s.a.createElement(_e,{disabled:e.canNotSubmit,onClick:e.onLogin}),resetButton:e.resetButton}))},lt=function(){var e=Object(Se.a)(Ce.a.mark((function e(t){return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe(w)((function(){return fetch("https://jsonplaceholder.typicode.com/users/1")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(f.useMachine)(we),t=Object(d.a)(e,3),n=t[0],r=t[1];!function(e,t){Object(c.useEffect)((function(){var n=0,r=e.subscribe((function(e){return t&&console.groupCollapsed("".concat(t," (").concat(++n,")")),console.log(JSON.stringify(e.value,null,2)),console.log(JSON.stringify(e.context,null,2)),console.log(e),t&&console.groupEnd(),function(){r.unsubscribe()}}))}),[e,t])}(t[2],"login");var a=n.matches("status.inProgress"),o=!a,i=n.matches("password.valid.invalid"),u=n.matches("password.valid.invalid"),l=n.matches("status.submitting"),v=o||i||u,O=Object(m.pipe)(Ee.status.selector(n.context),p.fold(Object(g.constant)(!1),(function(e){return Object(m.pipe)(e,b.fold(Object(g.constant)(!1),Object(g.constant)(!0)))}))),h=a?Ue.Reset:l?Ue.Cancel:O?Ue.Logout:Ue["Try again"],y=s.a.createElement(xe,{send:r},h),w=s.a.createElement(ut,{send:r,current:n,isInProgress:a,isNotInProgress:o,usernameIsInvalid:i,passwordIsInvalid:u,isSubmitting:l,canNotSubmit:v,onLogin:function(){r(Ee.status.eventCreators.submit((function(){return lt({username:E(n.context.username),password:E(n.context.password)})})))},resetButton:y}),x=Object(m.pipe)(Ee.status.selector(n.context),p.fold(Object(g.constant)(w),(function(e){return Object(m.pipe)(e,b.fold((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(qe,{failure:e}),y)}),(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(I,{user:e}),y)})))})));return s.a.createElement(j,{loading:l},x)},ft=function(){return s.a.createElement(c.Suspense,{fallback:"..."},s.a.createElement(s.a.StrictMode,null,s.a.createElement(dt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=n(55),bt=n(69),mt=n(70);pt.a.use(bt.a).use(mt.a).use(Ge.a).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1}});pt.a;l.a.render(s.a.createElement(ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[73,1,2]]]);
//# sourceMappingURL=main.1e3630b3.chunk.js.map